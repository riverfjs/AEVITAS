---
name: python-conda-workspace
description: Run Python tasks in fixed conda env aevitas-workspace with isolated project dirs under python-work/<workname>. Use for reliable package install, execution, workspace listing, and explicit cleanup.
---

# Python Conda Workspace

Reliable Python workflow for `aevitas` workspace.

## Capabilities

- Create isolated Python work directories.
- Install Python and native dependencies in one fixed conda env.
- Run Python files or inline code in the selected work directory.
- List existing work directories before reuse.
- Clean project workspace only when user explicitly asks.

## Implementation

**Entry point:**

```bash
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/bootstrap.sh
```

**Commands (grouped):**

```bash
# Health
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/bootstrap.sh
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/check.sh
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/list-work.sh

# Workspace
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/init-work.sh work1
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/install.sh --work work1 pillow cairosvg
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/install.sh --work work1 --conda cairo
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/run.sh --work work1 --file main.py
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/run.sh --work work1 --code "import sys; print(sys.executable)"
bash ~/.aevitas/workspace/.claude/skills/python-conda-workspace/scripts/clean.sh work1 --all
```

**Source layout:**
```
scripts/
├── bootstrap.sh   # create/repair conda env
├── check.sh       # verify env health
├── list-work.sh   # list python-work projects
├── init-work.sh   # create isolated work directory
├── install.sh     # install pip/conda dependencies
├── run.sh         # run python file or inline code
└── clean.sh       # clear one work directory
```

## Rules

- Always use `python-work/<workname>/`; never place task scripts in workspace root or `/tmp`.
- Do not mix `venv` and `conda` for the same task.
- Use `install.sh` and `run.sh`; avoid ad-hoc `pip`/`python` commands.
- Use `list-work.sh` to list projects.
- Any files generated by Python tasks must be written under the current `python-work/<workname>/` only.
- Run `clean.sh` only after explicit user cleanup request.

## Notes

- Conda env name is fixed: `aevitas-workspace`.
- For CairoSVG tasks, install native runtime first: `install.sh --conda cairo`.
